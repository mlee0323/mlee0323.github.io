---
layout: post
date: 2025-11-06
title: "[DB] 백업"
tags: [MZC]
categories: [Database]
---
1. 백업 할 directory 생성
2. 백업 대상 선정
	- 데이터베이스
	- 테이블
		- 생성을 포함할 것인지
		- insert할때 column을 포함할 것인지
	- 모든 데이터베이스 등
3. 백업파일명 결정
	- 가급적이면 확장명 .sql
		- database.table.sql

mysqldump -u lee -p MSP2 tjoin_member > msp2.tjoin_member.sql

- 이렇게 하면 안에 내용까지 다 dump하기 때문에 insert 문으로 다 넣어줌
- 단점은 안의 데이터 양이 많으면 데이터 양이 커짐
- 여기서 파일 명 빼주면 db전체 백업

mysqldump -u lee -p MSP2 --no-create-info > nocreate_msp2.sql

- --no-create-info 옵션으로 create 포함하지 않음
- 여기에 complete-insert 하면 insert 하는 컬럼들 내용까지들어감
	- --no-create-info --complete-insert

mysqldump -u lee -p --databases MSP2 > use_msp2.sql

- databases 를 붙이면 create databse 가 들어가고 use 도 들어감

mysqldump -u lee -p --databases MSP2 MSP1 > lee.db.sql

- 위처럼 db명 넣어주면 하나의 파일로 다 받을 수 있음

mysqldump -u lee -p --all-databases > lee.db.sql

- db 전체 백업

mysqladmin (?)


mysql -u lee -p MSP2 < msp2.sql

- 이렇게 하면 MSP2 에서 msp2.sql 파일을 실행하겠다는 의미
- 만약 msp2.sql 이 db생성도 포함된다면 MSP2 는 필요없음

crontab -e


스케쥴링


scp ./lee.db.sql min@192.168.184.11:lee.db.sql

- 파일 전송 명령
- scp 명령어를 통해서 경로를 지정하고 전송하는 대상과 파일명을 지정
