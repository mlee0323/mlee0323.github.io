---
layout: post
date: 2025-10-01
title: "[네트워크] 네트워크 계층"
tags: [MZC]
categories: [Network]
---


#### 인터넷 프로토콜 - IP


IP 주소의 형태


ex) 192.168.102.203

- 4byte 주소를 표현하며, 각 8비트로 구성됨
- octet 이라고 부름 (192)

IP의 기능

- 송수신 대상을 지정
- 단편화
	- 전송하고자 하는 패킷의 크기가 MTU 보다 클 경우, MTU 이하의 복수의 패킷으로 나눔
- MTU (Maximum Transmission)
	- 한번에 전송 가능한 IP 패킷의 최대 크기
	- 일반적으로 1500 바이트이며, 나뉜 패킷은 수신지에 도착시 재조합
	- 헤더 포함

IP의 구조


![0](/assets/img/2025-10-01-[네트워크]-네트워크-계층.md/0.png)_image.png_


이미지 출처 : 메가존 클라우드 부트캠프 자료

- 식별자
	- 여러 조각으로 나뉘어진 패킷을 수신지에서 재조합하기 위해 할당된 번호
- 플래그
	- 미사용, DF, MF 3개의 bit로 구성
	- DF (Don’t Fragment)
		- 1인 경우 IP 단편화를 수행하지 않음
	- MF (More Fragment)
		- 1인 경우 나뉘어진 패킷이 더 있다는 의미
- 단편화 오프셋 (Fragment Offset)
	- 단편화 된 패킷 순서
- TTL (Time To Live)
	- 패킷의 수명으로 무의미한 패킷이 네트워크에 남아있는 것을 방지
	- 패킷이 하나의 호스트 또는 라우터를 거칠때마다 TTL은 1씩 감소, 0이 되면 폐기
	- 라우터와 라우터를 거치는 것을 홉(hop)이라함
- 프로토콜
	- 상위 계층의 프로토콜이 무엇인지를 나타내는 필드
- 송신지 IP주소 및 수신지 IP 주소
	- 각각의 IP 주소 정보
- 프레일러
	- 에러검출에 사용


## IP 주소체계


![1](/assets/img/2025-10-01-[네트워크]-네트워크-계층.md/1.png)_image.png_


출처 : [https://brunch.co.kr/@swimjiy/44](https://brunch.co.kr/@swimjiy/44)


A      B    C  Host


192.168.102.203


> 💡 수업때 배운 예시  
> **192.168.102.203 / 26**  
>   
> ip는 종 32비트다. ‘/’ 뒤의 26을 26번째자리까지 1로채우고 위로 0을 채우는건데 저건 결국 기존 ip와 26까지의 값과, 26까지 1로 채운 값을 and 연산하는것  
>   
> 예 :  
>   
> 192.168.102.203을 각각 비트변환  
>   
> 26자리까지 1, 뒤로는 0  
>   
> 둘이 and 연산하면 192.168.102.0 이 나온다


	**192.168.102.203 / 26**


	ip는 종 32비트다. ‘/’ 뒤의 26을 26번째자리까지 1로채우고 위로 0을 채우는건데 저건 결국 기존 ip와 26까지의 값과, 26까지 1로 채운 값을 and 연산하는것


	예 :


	192.168.102.203을 각각 비트변환


	26자리까지 1, 뒤로는 0


	둘이 and 연산하면 192.168.102.0 이 나온다



## 공인 IP와 사설 IP



#### 공인 IP 주소

- 전 세계에서 유일한 IP주소
- ISP 또는 공인 IP 주소 할당 기관을 동해 할당 받아야 한다


#### 사설 IP 주소

- 사설 네트워크에서 사용하며 외부에 공개되지 않음
- 할당 주체는 일반적으로 라우터


#### 정정 IP 주소와 동적 IP 주소

- 정적 IP 주소 (static IP address)
	- IP가 바뀌지 않음
- 동적 IP 주소 (dynamic IP address)
	- 사용하는 이유는 관리하기가 더 편해서
	- 서버를 통해서 할당받음


## 라우팅


패킷이 이동할 최적을 경로를 설정하고 해당 결로로 패킷을 이동시키는 것



#### 라우터

- 다른 네트워크 그룹과 연결 할 때 사용
- 라우팅 테이블을 이용하여 다른 수신지 주소까지 패킷을 전달
	- 라우팅 테이블
		- 목적지 주소를 목적지에 도달하기 위한 네트워크 노선으로 변환시키는 목적으로 사용
		- 각 라우터의 라우팅 테이블은 모든 목적지 정보에 대해 해당 목적지에 도달하기 위해서 거쳐야 할 다음 라우터의 정보를 지님
		- 수신지 IP, 서브넷 마스크, 다음 홉, 네트워크 인터페이스, 메트릭


#### 정적 라우팅

- 사용자가 수동으로 라우팅 테이블을 채워서 라우팅
- 잘못된 정보로 인하여 장애 발생 가능


#### 동적 라우팅

- 대규모 네트워크 관리에 유리
- 
